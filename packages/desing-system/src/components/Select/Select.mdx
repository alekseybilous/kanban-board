import { Canvas, Meta, Story, Controls } from '@storybook/addon-docs/blocks';
import * as SelectStories from './Select.stories';

<Meta of={SelectStories} />

# Select

A styled Select component built on top of Radix UI primitives. The Select component provides a customizable dropdown for selecting single options from a list.

## Features

- **Accessible**: Built on Radix UI with full keyboard navigation and screen reader support
- **Customizable**: Multiple sizes, variants, and styling options
- **Theme-aware**: Uses design system tokens for consistent styling
- **Flexible**: Composable primitives for maximum flexibility
- **TypeScript**: Full TypeScript support with proper type definitions

## Usage

The Select component is composed of multiple primitives that you can use together:

```tsx
import {
  SelectRoot,
  SelectTrigger,
  SelectValue,
  SelectContent,
  SelectItem,
  SelectLabel,
  SelectGroup,
  SelectSeparator,
} from '@kanban-board/design-system';

function MySelect() {
  return (
    <SelectRoot>
      <SelectTrigger>
        <SelectValue placeholder="Select an option..." />
      </SelectTrigger>
      <SelectContent>
        <SelectItem value="option1">Option 1</SelectItem>
        <SelectItem value="option2">Option 2</SelectItem>
        <SelectItem value="option3">Option 3</SelectItem>
      </SelectContent>
    </SelectRoot>
  );
}
```

## Examples

### Basic Select

<Canvas of={SelectStories.Default} />

### With Groups and Labels

<Canvas of={SelectStories.WithGroups} />

### Sizes

The Select component supports three sizes: `small`, `medium` (default), and `large`.

<Canvas of={SelectStories.Sizes} />

### Variants

Two variants are available: `default` and `ghost`.

<Canvas of={SelectStories.Variants} />

### Error State

<Canvas of={SelectStories.ErrorState} />

### Disabled State

<Canvas of={SelectStories.Disabled} />

### Controlled Component

<Canvas of={SelectStories.Controlled} />

## API Reference

### SelectRoot

The root component that manages the select state. This is a re-export of `@radix-ui/react-select` Root.

**Props**: All props from `@radix-ui/react-select` Root

### SelectTrigger

The button that opens the select dropdown.

**Props**:

- `size?: 'small' | 'medium' | 'large'` - Size variant (default: `'medium'`)
- `variant?: 'default' | 'ghost'` - Visual variant (default: `'default'`)
- `error?: boolean` - Whether the select is in an error state
- All props from `@radix-ui/react-select` Trigger

### SelectValue

Displays the selected value or placeholder text. This is a re-export of `@radix-ui/react-select` Value.

### SelectContent

The dropdown content that contains the selectable items.

**Props**: All props from `@radix-ui/react-select` Content

### SelectItem

An individual selectable item in the dropdown.

**Props**: All props from `@radix-ui/react-select` Item

### SelectLabel

A label for grouping items in the dropdown.

**Props**: All props from `@radix-ui/react-select` Label

### SelectGroup

A group container for organizing items with labels.

**Props**: All props from `@radix-ui/react-select` Group

### SelectSeparator

A visual separator between items or groups.

**Props**: All props from `@radix-ui/react-select` Separator

## Design Tokens

The Select component uses the following design tokens from your theme:

### Colors

- `--color-background-primary` - Background color
- `--color-background-secondary` - Hover background
- `--color-background-brand` - Selected item background
- `--color-border-primary` - Border color
- `--color-border-hover` - Hover border color
- `--color-border-focus` - Focus border color
- `--color-text-primary` - Text color
- `--color-text-secondary` - Secondary text color
- `--color-text-placeholder` - Placeholder text color

### Spacing

- `--space-8` - Small trigger height (32px)
- `--space-10` - Medium trigger height (40px)
- `--space-12` - Large trigger height (48px)
- `--space-1` to `--space-4` - Internal spacing

### Other

- `--radius-sm`, `--radius-md` - Border radius
- `--shadow-lg` - Dropdown shadow
- `--z-dropdown` - Z-index for dropdown

## Accessibility

The Select component follows WAI-ARIA guidelines:

- Supports keyboard navigation (Arrow keys, Enter, Escape)
- Proper focus management
- Screen reader announcements
- Supports `aria-label`, `aria-labelledby`, and `aria-describedby`
- Indicates selected state to assistive technologies

## Best Practices

1. **Always provide a meaningful placeholder** that describes what the user should select
2. **Use SelectLabel** for grouping related options
3. **Keep option lists reasonable in length** - consider search or filtering for long lists
4. **Use the error state** to indicate validation issues
5. **Provide clear, descriptive labels** for each option

## Related Components

- [Button](../Button/Button.mdx) - For trigger-like interactions
- [Input](../Input/Input.mdx) - For text input fields
- [Popover](../Popover/Popover.mdx) - For custom dropdown content
